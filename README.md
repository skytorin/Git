# Git
## 1. Команды статусов и получения дополнительно й информации 
Просмотр версии приложения git
```bash
git verion
```
Инициализация нового репозитария
```bash
git init
```
Текущее состояние
```bash
git status
```
Получение подробной информации о последнем коммите
```bash
git show
```
Получение подробной информации о указанном коммите
```bash
git snow 772685b780259c4313d1f489a47f4c1dccc19266
```
Просмотр всех имеющиеся коммитов с их ID и комментариями
```bash
git log
```
Cписок всех выполненных операций и изменений
```bash
git reflog
```

## 2. Отслеживание изменений
Добавление определенного файла в отслеживание
```bash
git add README.md
```
Добавление всех файлов в отслеживание из текущей директории
```bash
git add .
```
Исключение указанного файла из отслеживания
```bash
git rm --cached ./Lesson_01/.terraform
```
Рекурсирвное исключение файлов из отслеживания
```bash
git rm -r --cached ./Lesson_03/.terraform/
```

## 3. Работа с коммитами
Коммит файлов репозитария
```bash
git commit -m "My First Commit"
```
Одновременное добавление и коммит всех ранее добавленных файлов
```bash
git commit -am "My Add and commit"
```
Правка комментария к последнему коммиту:
```bash
git commit --amend
```
Добавления файла в последней коммит:
```bash
git add missed-file.txt
git commit --amend
```

## 4. Задание исключений 
Создание файла в котором будут задаваться исключаемые файлы
```bash
touch .gitignore
```
# Примеры исключения файлов из отслеживаня, находящиеся в .gitignore
```bash
*.py[cod]             # будут игнорироваться файлы следующих расширений: *.pyc, *.pyo, *.pyd
name.yaml             # игнорируется один конкретный файл
log/                  # игнорируется папка log
resources/main.json   # игнорируется файл находящийся в папке

## 5. Идентификация пользователя для коммитов
Задание констант имени и емейла для всей системы, которые отражаютмся в коммитах
```bash
git config --system user.name "MyUserNamE"
git config --system user.email "MyEmail"
```
Задание констант имени и емейла для всех репозитория одного конкретного пользователя
```bash
git config --global user.name "MyUserName"
git config --global user.email "MyEmail"
```
Задание констант имени и емейла для одного конкретного репозитария
```bash
git config --local user.name "MyUserName"
git config --local user.email "MyEmail"
```

## 6. Работвка с ветками репозитария
Просмтор всех имеющихся веток проекта
```bash
git branch -a
```
Создание новой ветки new-api2
```bash
git branch new-api2
```
Переход в ранее созданную ветку new-api
```bash
git checkout new-api
```
Создает и переходит в новую ветку new-api2
```bash
git checkout -b new-api2
```
Cлияние веток
```bash
git merge new-api
```
Удаление ветки которая была хотя бы единожды cмержена
```bash
git branch -d new-api
```
Удаление ветки, которая не была ни разу смержена
```bash
git branch -D new-api
```

## 7. Работа с внешним Git репозитарием
Просмотр имёни/адреса внешнего репозитария, связанного с текущим локальным репозитарием
```bash
git remote -v
```
Более детальный вывод информация о именах и адресах удаленных репозитариев
```bash
git remote show origin
```
Добавление внешнего адреса репозитария с именем origin
```bash
git remote add origin git@github.com:skytorin/Terraform.git
```
Переименование имени внешнего адреса из origin в origin2
```bash
git remote rename origin origin2
```
Удаление адреса внешнего репозитария с именем origin
```bash
git remote rm origin
```
Показывает изменения в файле с момента последнего коммита
```basg
git diff
```

## 8. Получение и отправка изменений в удаленный реозитарий
Получить последние изменения с удалённого репозитария
```bash
git pull <remote-name> <branch-name>

```bash
git pull
```
Отправка изменений в удаленный репозиторий
```bash
git push <remote-name> <branch-name>
```
или
```bash
git push -u origin master
```
или
```bash
git push
```

## 9. Отмена и откат изменений  
Отмена последнего коммита в локальном репозитарии 
```bash
git reset HEAD~
```
Полное удаление последего коммита, включая все изменения файлов данного коммита
```bash
git reset --hard HEAD~1
```
Откат к произвольному коммиту по его индексу
```bash
git reset HEAD@{index}
```

## 10. Восстановление удаленных файлов (после git rm)
Обычно чтобы просто откатить состояние файла до исходного в текущей версии (даже после ручного удаления), нужно сделать такой чекаут
```bash
git checkout -- file_name.ext
```
Если удаление делалось через git rm, то счекаутить обратно состояние не получится. 
Поэтому надо сделать сначала ресет файла в индексе, а уже потом чекаут (см. git help reset)
```bash
git reset -- file_name.ext
git checkout -- file_name.ext
```
Если после add, но до коммита найден ошибочно добавленный файл/папка, то такой же ресет поможет убрать его из следующего коммита

